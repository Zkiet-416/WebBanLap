// database/products.js
// Re-generated on 2025-11-03

const products = window.globalJsonData = {
  "product": {
    "brand": [
      {
        "name": "laptop",
        "status": "active",
        "laptop": [
          {
            "id": "AC-AS5-i5-R2UP",
            "model": "Laptop Acer Gaming Nitro V ANV15-41-R2UP",
            "price": "16.390.000",
            "status": "an",
            "image": "../assets/images/Acer1.png",
            "description": "CPU: Intel Core i5-1335U | RAM: 16GB DDR4 | ·ªî c·ª©ng: 512GB SSD | VGA: Intel Iris Xe Graphics",
            "qty":"30"
          },
          {
            "id": "AC-AS5-i5-R0FE",
            "model": "Laptop Gaming Acer Nitro V 15 ProPanel ANV15-41-R0FE",
            "price": "21.990.000",
            "status": "hien",
            "image": "../assets/images/Acer2.png",
            "description": "CPU: Intel Core i5-1335U | RAM: 16GB DDR4 | ·ªî c·ª©ng: 512GB SSD | VGA: Intel Iris Xe Graphics",
            "qty":"2"
          },
          {
            "id": "AC-AS5-i5-R7CR",
            "model": "Laptop gaming Acer Nitro V 15 ProPanel ANV15 41 R7CR",
            "price": "24.490.000",
            "status": "hien",
            "image": "../assets/images/Acer3.png",
            "description": "CPU: Intel Core i5-1335U | RAM: 16GB DDR4 | ·ªî c·ª©ng: 512GB SSD | VGA: Intel Iris Xe Graphics",
            "qty":"30"
          },
          {
            "id": "AC-AS5-R0Y4",
            "model": "Laptop gaming Acer Nitro V 15 ProPanel ANV15 41 R0Y4",
            "price": "24.990.000",
            "status": "hien",
            "image": "../assets/images/Acer4.png",
            "description": "CPU: Intel Core i5-1335U | RAM: 16GB DDR4 | ·ªî c·ª©ng: 512GB SSD | VGA: Intel Iris Xe Graphics",
            "qty":"30"
          },
          {
            "id": "AC-AS5-R5F4",
            "model": "Laptop Gaming Acer Nitro 16 AI ProPanel AN16S 61 R5F4",
            "price": "39.990.000",
            "status": "hien",
            "image": "../assets/images/Acer5.png",
            "description": "CPU: Intel Core i5-1335U | RAM: 16GB DDR4 | ·ªî c·ª©ng: 512GB SSD | VGA: Intel Iris Xe Graphics",
            "qty":"30"
          },
          {
            "id": "AC-AS5-56WQ",
            "model": "Laptop Gaming Acer Nitro Lite 16 NL16 71G 56WQ",
            "price": "19.990.000",
            "status": "hien",
            "image": "../assets/images/Acer6.png",
            "description": "CPU: Intel Core i5-1335U | RAM: 16GB DDR4 | ·ªî c·ª©ng: 512GB SSD | VGA: Intel Iris Xe Graphics",
            "qty":"30"
          },
          {
            "id": "AC-AS5-78BG",
            "model": "Laptop gaming Acer Nitro V ANV15 51 78BG",
            "price": "29.590.000",
            "status": "hien",
            "image": "../assets/images/Acer7.png",
            "description": "CPU: Intel Core i5-1335U | RAM: 16GB DDR4 | ·ªî c·ª©ng: 512GB SSD | VGA: Intel Iris Xe Graphics",
            "qty":"30"
          },
          {
            "id": "AC-AP-93P0",
            "model": "Laptop Gaming Acer Predator Helios 18 PH18 73 93P0",
            "price": "97.990.000",
            "status": "hien",
            "image": "../assets/images/Acer8.png",
            "description": "CPU: Intel Core i5-1335U | RAM: 16GB DDR4 | ·ªî c·ª©ng: 512GB SSD | VGA: Intel Iris Xe Graphics",
            "qty":"30"
          },
          {
            "id": "AC-AP-757W",
            "model": "Laptop Gaming Acer Predator Helios Neo 16 AI PHN16 73 757W",
            "price": "50.890.000",
            "status": "hien",
            "image": "../assets/images/Acer9.png",
            "description": "CPU: Intel Core i5-1335U | RAM: 16GB DDR4 | ·ªî c·ª©ng: 512GB SSD | VGA: Intel Iris Xe Graphics",
            "qty":"30"
          },
          {
            "id": "AC-AS5-59AA",
            "model": "Laptop gaming Acer Nitro V ProPanel ANV15 52 59AA",
            "price": "26.990.000",
            "status": "hien",
            "image": "../assets/images/Acer10.png",
            "description": "CPU: Intel Core i5-1335U | RAM: 16GB DDR4 | ·ªî c·ª©ng: 512GB SSD | VGA: Intel Iris Xe Graphics",
            "qty":"30"
          },
          {
            "id": "AC-AS5-R9M1",
            "model": "Laptop Gaming Acer Nitro V ANV15 41 R9M1",
            "price": "19.990.000",
            "status": "hien",
            "image": "../assets/images/Acer11.png",
            "description": "CPU: Intel Core i5-1335U | RAM: 16GB DDR4 | ·ªî c·ª©ng: 512GB SSD | VGA: Intel Iris Xe Graphics",
            "qty":"30"
          },
          {
            "id": "AC-AS5-500A",
            "model": "Laptop Gaming Acer Nitro V 15 ANV15 51 500A",
            "price": "19.290.000",
            "status": "hien",
            "image": "../assets/images/Acer12.png",
            "description": "CPU: Intel Core i5-1335U | RAM: 16GB DDR4 | ·ªî c·ª©ng: 512GB SSD | VGA: Intel Iris Xe Graphics",
            "qty":"32"
          },
          {
            "id": "AC-AS5-R6NA",
            "model": "Laptop Gaming Acer Nitro V ANV16 41 R6NA",
            "price": "29.890.000",
            "status": "hien",
            "image": "../assets/images/Acer13.png",
            "description": "CPU: Intel Core i5-1335U | RAM: 16GB DDR4 | ·ªî c·ª©ng: 512GB SSD | VGA: Intel Iris Xe Graphics",
            "qty":"12"
          },
          {
            "id": "AC-AS5-R36Y",
            "model": "Laptop Gaming Acer Nitro V ANV16 41 R36Y",
            "price": "27.390.000",
            "status": "hien",
            "image": "../assets/images/Acer14.png",
            "description": "CPU: Intel Core i5-1335U | RAM: 16GB DDR4 | ·ªî c·ª©ng: 512GB SSD | VGA: Intel Iris Xe Graphics",
            "qty":"38"
          },
          {
            "id": "AC-AS5-R7EN",
            "model": "Laptop Gaming Acer Nitro V ANV16 41 R7EN",
            "price": "23.990.000",
            "status": "hien",
            "image": "../assets/images/Acer15.jpg",
            "description": "CPU: Intel Core i5-1335U | RAM: 16GB DDR4 | ·ªî c·ª©ng: 512GB SSD | VGA: Intel Iris Xe Graphics",
            "qty":"7"
          },
          {
            "id": "AS-TUF-RL151W",
            "model": "Laptop Gaming Asus TUF F16 FX607VJB-RL151W",
            "price": "21.990.000",
            "status": "hien",
            "image": "../assets/images/Asus1.png",
            "description": "CPU: Intel Core i7-12700H | RAM: 8GB DDR5 | ·ªî c·ª©ng: 512GB SSD | VGA: NVIDIA GeForce RTX 4050",
            "qty":"3"
          },
          {
            "id": "AS-TUF-SA193W",
            "model": "Laptop Gaming Asus ROG Strix SCAR 18 G835LW-SA193W",
            "price": "79.890.000",
            "status": "hien",
            "image": "../assets/images/Asus2.png",
            "description": "CPU: Intel Core i7-12700H | RAM: 8GB DDR5 | ·ªî c·ª©ng: 512GB SSD | VGA: NVIDIA GeForce RTX 4050",
            "qty":"33"
          },
          {
            "id": "AS-TUF-RP216W",
            "model": "Laptop Gaming Asus AI V16 V3607VU-RP216W",
            "price": "24.190.000",
            "status": "hien",
            "image": "../assets/images/Asus3.png",
            "description": "CPU: Intel Core i7-12700H | RAM: 8GB DDR5 | ·ªî c·ª©ng: 512GB SSD | VGA: NVIDIA GeForce RTX 4050",
            "qty":"40"
          },
          // L·ªói ID tr√πng l·∫∑p, c·∫ßn s·ª≠a (Th√™m h·∫≠u t·ªë ƒë·ªÉ ƒë·∫£m b·∫£o duy nh·∫•t trong code n√†y)
          {
            "id": "AS-VVB15-RP216Q-1", 
            "model": "Laptop Gaming Asus AI V16 V3607VU-RP216Q",
            "price": "15.444.000",
            "status": "hien",
            "image": "../assets/images/Asus1.png",
            "description": "CPU: Intel Core i7-12700H | RAM: 8GB DDR5 | ·ªî c·ª©ng: 512GB SSD | VGA: NVIDIA GeForce RTX 4050",
            "qty":"10"
          },
          {
            "id": "AS-VVB15-i7-2", 
            "model": "Laptop Gaming Asus AI V16 V3607VU-RP216E",
            "price": "24.000.000",
            "status": "hien",
            "image": "../assets/images/Asus2.png",
            "description": "CPU: Intel Core i7-12700H | RAM: 8GB DDR5 | ·ªî c·ª©ng: 512GB SSD | VGA: NVIDIA GeForce RTX 4050",
            "qty":"30"
          },
          {
            "id": "AS-VVB15-i7-3", 
            "model": "Laptop Gaming Asus IA V16 V3607VU-RP216W",
            "price": "23.190.000",
            "status": "hien",
            "image": "../assets/images/Asus3.png",
            "description": "CPU: Intel Core i7-12700H | RAM: 8GB DDR5 | ·ªî c·ª©ng: 512GB SSD | VGA: NVIDIA GeForce RTX 4050",
            "qty":"30"
          },
          {
            "id": "AS-VVB15-i7-4", 
            "model": "Laptop Gaming Asus AO V16 V3607VU-RP216W",
            "price": "22.190.000",
            "status": "hien",
            "image": "../assets/images/Asus1.png",
            "description": "CPU: Intel Core i7-12700H | RAM: 8GB DDR5 | ·ªî c·ª©ng: 512GB SSD | VGA: NVIDIA GeForce RTX 4050",
            "qty":"30"
          },
          {
            "id": "AS-AI-i7-5",
            "model": "Laptop Gaming Asus AI V16 V3607VU-RP226W",
            "price": "21.190.000",
            "status": "hien",
            "image": "../assets/images/Asus2.png",
            "description": "CPU: Intel Core i7-12700H | RAM: 8GB DDR5 | ·ªî c·ª©ng: 512GB SSD | VGA: NVIDIA GeForce RTX 4050",
            "qty":"30"
          },
          {
            "id": "AS-AP-RP216W-6",
            "model": "Laptop Gaming Asus AP V16 V3607VU-RP216W",
            "price": "20.190.000",
            "status": "hien",
            "image": "../assets/images/Asus3.png",
            "description": "CPU: Intel Core i7-12700H | RAM: 8GB DDR5 | ·ªî c·ª©ng: 512GB SSD | VGA: NVIDIA GeForce RTX 4050",
            "qty":"30"
          },
          {
            "id": "AS-AI-RP216W-7",
            "model": "Laptop Gaming Asus AI V10 V3607VU-RP216W",
            "price": "19.190.000",
            "status": "hien",
            "image": "../assets/images/Asus1.png",
            "description": "CPU: Intel Core i7-12700H | RAM: 8GB DDR5 | ·ªî c·ª©ng: 512GB SSD | VGA: NVIDIA GeForce RTX 4050",
            "qty":"30"
          },
          {
            "id": "AS-AI-RP216W-8",
            "model": "Laptop Gaming Asus AI V16 V3607VP-RP216W",
            "price": "29.190.000",
            "status": "hien",
            "image": "../assets/images/Asus2.png",
            "description": "CPU: Intel Core i7-12700H | RAM: 8GB DDR5 | ·ªî c·ª©ng: 512GB SSD | VGA: NVIDIA GeForce RTX 4050",
            "qty":"30"
          },
          {
            "id": "AS-AI-RP216C-9",
            "model": "Laptop Gaming Asus AI V16 V3607VU-RP216C",
            "price": "28.190.000",
            "status": "hien",
            "image": "../assets/images/Asus3.png",
            "description": "CPU: Intel Core i7-12700H | RAM: 8GB DDR5 | ·ªî c·ª©ng: 512GB SSD | VGA: NVIDIA GeForce RTX 4050",
            "qty":"60"
          },
          {
            "id": "AS-AI-RP216R-10",
            "model": "Laptop Gaming Asus AI V16 V3607VU-RP216R",
            "price": "30.190.000",
            "status": "hien",
            "image": "../assets/images/Asus1.png",
            "description": "CPU: Intel Core i7-12700H | RAM: 8GB DDR5 | ·ªî c·ª©ng: 512GB SSD | VGA: NVIDIA GeForce RTX 4050",
            "qty":"30"
          },
          {
            "id": "AS-AI-RP216A-11",
            "model": "Laptop Gaming Asus AI V16 V3607VU-RP216A",
            "price": "31.190.000",
            "status": "hien",
            "image": "../assets/images/Asus2.png",
            "description": "CPU: Intel Core i7-12700H | RAM: 8GB DDR5 | ·ªî c·ª©ng: 512GB SSD | VGA: NVIDIA GeForce RTX 4050",
            "qty":"30"
          },
          {
            "id": "AS-AI-RP216D-12",
            "model": "Laptop Gaming Asus AI V16 V3607VU-RP216D",
            "price": "17.190.000",
            "status": "hien",
            "image": "../assets/images/Asus3.png",
            "description": "CPU: Intel Core i7-12700H | RAM: 8GB DDR5 | ·ªî c·ª©ng: 512GB SSD | VGA: NVIDIA GeForce RTX 4050",
            "qty":"30"
          },
          {
            "id": "HP-VT-AZ0C6PA-1",
            "model": "Laptop Gaming HP Victus 16-s1141AX AZ0C6PA",
            "price": "27.990.000",
            "status": "hien",
            "image": "../assets/images/HP1.jpg",
            "description": "CPU: Intel Core i7 (Th·∫ø h·ªá m·ªõi) | RAM: 16GB DDR4 | ·ªî c·ª©ng: 512GB SSD | VGA: NVIDIA GeForce RTX (Series 30/40)",
            "qty":"30"
          },
          {
            "id": "HP-VT-AZ0D1PA-2",
            "model": "Laptop Gaming HP Victus 16-s1146AX AZ0D1PA",
            "price": "24.990.000",
            "status": "hien",
            "image": "../assets/images/HP2.jpg",
            "description": "CPU: Intel Core i7 (Th·∫ø h·ªá m·ªõi) | RAM: 16GB DDR4 | ·ªî c·ª©ng: 512GB SSD | VGA: NVIDIA GeForce RTX (Series 30/40)",
            "qty":"30"
          },
          {
            "id": "HP-VT-AZ0C6PA-3",
            "model": "Laptop Gaming HP Victus 16-s1041AX AZ0C6PA",
            "price": "28.990.000",
            "status": "hien",
            "image": "../assets/images/HP1.jpg",
            "description": "CPU: Intel Core i7 (Th·∫ø h·ªá m·ªõi) | RAM: 16GB DDR4 | ·ªî c·ª©ng: 512GB SSD | VGA: NVIDIA GeForce RTX (Series 30/40)",
            "qty":"20"
          },
          {
            "id": "HP-VT-AZ0D1PA-4",
            "model": "Laptop Gaming HP Victus 16-s1156AX AZ0D1PA",
            "price": "25.990.000",
            "status": "hien",
            "image": "../assets/images/HP2.jpg",
            "description": "CPU: Intel Core i7 (Th·∫ø h·ªá m·ªõi) | RAM: 16GB DDR4 | ·ªî c·ª©ng: 512GB SSD | VGA: NVIDIA GeForce RTX (Series 30/40)",
            "qty":"30"
          },
          {
            "id": "HP-VT-5",
            "model": "Laptop Gaming HP Victus 16-s141AX AZ0C6PA",
            "price": "29.990.000",
            "status": "hien",
            "image": "../assets/images/HP1.jpg",
            "description": "CPU: Intel Core i7 (Th·∫ø h·ªá m·ªõi) | RAM: 16GB DDR4 | ·ªî c·ª©ng: 512GB SSD | VGA: NVIDIA GeForce RTX (Series 30/40)",
            "qty":"30"
          },
          {
            "id": "LE-VT-1",
            "model": "Laptop Gaming Lenovo LOQ Essential 15IRX11 83SC003TVN",
            "price": "30.490.000",
            "status": "hien",
            "image": "../assets/images/Lenovo1.png",
            "description": "CPU: Intel Core i5/i7 (Th·∫ø h·ªá m·ªõi) | RAM: 16GB DDR5 | ·ªî c·ª©ng: 512GB SSD | VGA: NVIDIA GeForce RTX (Series 40)",
            "qty":"302"
          },
          {
            "id": "LE-VT-2",
            "model": "Laptop Gaming Lenovo LOQ Essential 14IRX11 83SC003RVN",
            "price": "26.990.000",
            "status": "hien",
            "image": "../assets/images/Lenovo2.png",
            "description": "CPU: Intel Core i5/i7 (Th·∫ø h·ªá m·ªõi) | RAM: 16GB DDR5 | ·ªî c·ª©ng: 512GB SSD | VGA: NVIDIA GeForce RTX (Series 40)",
            "qty":"10"
          },
          {
            "id": "LE-VT-3",
            "model": "Laptop Gaming Lenovo LOQ Essential 15IRX12 83SC003TVN",
            "price": "30.999.000",
            "status": "hien",
            "image": "../assets/images/Lenovo1.png",
            "description": "CPU: Intel Core i5/i7 (Th·∫ø h·ªá m·ªõi) | RAM: 16GB DDR5 | ·ªî c·ª©ng: 512GB SSD | VGA: NVIDIA GeForce RTX (Series 40)",
            "qty":"0"
          },
          {
            "id": "LE-VT-4",
            "model": "Laptop Gaming Lenovo LOQ Essential 13IRX11 83SC003RVN",
            "price": "28.990.000",
            "status": "hien",
            "image": "../assets/images/Lenovo2.png",
            "description": "CPU: Intel Core i5/i7 (Th·∫ø h·ªá m·ªõi) | RAM: 16GB DDR5 | ·ªî c·ª©ng: 512GB SSD | VGA: NVIDIA GeForce RTX (Series 40)",
            "qty":"20"
          },
          {
            "id": "LE-VT-5",
            "model": "Laptop Gaming Lenovo LOQ Essential 15IRX10 83SC003TVN",
            "price": "30.000.000",
            "status": "hien",
            "image": "../assets/images/Lenovo1.png",
            "description": "CPU: Intel Core i5/i7 (Th·∫ø h·ªá m·ªõi) | RAM: 16GB DDR5 | ·ªî c·ª©ng: 512GB SSD | VGA: NVIDIA GeForce RTX (Series 40)",
            "qty":"40"
          },
          {
            "id": "DELL-XPS-i9-1",
            "model": "Dell Latitude 3420 Laptop",
            "price": "9.000.560",
            "status": "hien",
            "image": "../assets/images/Dell1.webp",
            "description": "CPU: Intel Core i9-13900H | RAM: 32GB DDR5 | ·ªî c·ª©ng: 1TB SSD | VGA: NVIDIA GeForce RTX 4070",
            "qty":"32"
          },
          {
            "id": "DELL-XPS-i9-2",
            "model": "Dell Latitude 3419 Laptop",
            "price": "9.500.560",
            "status": "hien",
            "image": "../assets/images/Dell1.webp",
            "description": "CPU: Intel Core i9-13900H | RAM: 32GB DDR5 | ·ªî c·ª©ng: 1TB SSD | VGA: NVIDIA GeForce RTX 4070",
            "qty":"30"
          },
          {
            "id": "DELL-XPS-i9-3",
            "model": "Dell Latitude 3418 Laptop",
            "price": "10.000.560",
            "status": "hien",
            "image": "../assets/images/Dell1.webp",
            "description": "CPU: Intel Core i9-13900H | RAM: 32GB DDR5 | ·ªî c·ª©ng: 1TB SSD | VGA: NVIDIA GeForce RTX 4070",
            "qty":"30"
          },
          {
            "id": "DELL-XPS-i9-4",
            "model": "Dell Latitude 3417 Laptop",
            "price": "11.000.560",
            "status": "hien",
            "image": "../assets/images/Dell1.webp",
            "description": "CPU: Intel Core i9-13900H | RAM: 32GB DDR5 | ·ªî c·ª©ng: 1TB SSD | VGA: NVIDIA GeForce RTX 4070",
            "qty":"30"
          },
          {
            "id": "DELL-XPS-i9-5",
            "model": "Dell Latitude 3416 Laptop",
            "price": "12.000.560",
            "status": "hien",
            "image": "../assets/images/Dell1.webp",
            "description": "CPU: Intel Core i9-13900H | RAM: 32GB DDR5 | ·ªî c·ª©ng: 1TB SSD | VGA: NVIDIA GeForce RTX 4070",
            "qty":"30"
          }
        ]
      },
      {
        "name": "de-tan-nhiet",
        "status": "active",
        "de-tan-nhiet": [
          {
            "id": "de-tan-nhiet-1",
            "model": "ƒê·∫ø t·∫£n nhi·ªát Cooler Master Ergostand Air",
            "price": "690.000",
            "status": "hien",
            "image": "../assets/images/Dtn1.jpg",
            "description": "Ch·∫•t li·ªáu: Nh√¥m/Nh·ª±a cao c·∫•p | T√≠nh nƒÉng: T·∫£n nhi·ªát hi·ªáu qu·∫£, ƒëi·ªÅu ch·ªânh ƒë·ªô cao | T∆∞∆°ng th√≠ch: Laptop 14-17 inch",
            "qty":"30"
          },
          {
            "id": "de-tan-nhiet-2",
            "model": "ƒê·∫ø t·∫£n nhi·ªát Cooler Master NOTEPAL CMC2",
            "price": "100.000",
            "status": "hien",
            "image": "../assets/images/Dtn2.png",
            "description": "Ch·∫•t li·ªáu: Nh√¥m/Nh·ª±a cao c·∫•p | T√≠nh nƒÉng: T·∫£n nhi·ªát hi·ªáu qu·∫£, ƒëi·ªÅu ch·ªânh ƒë·ªô cao | T∆∞∆°ng th√≠ch: Laptop 14-17 inch",
            "qty":"30"
          },
          {
            "id": "de-tan-nhiet-3",
            "model": "ƒê·∫ø t·∫£n nhi·ªát Cooler Master Ergostand Air",
            "price": "590.000",
            "status": "hien",
            "image": "../assets/images/Dtn1.jpg",
            "description": "Ch·∫•t li·ªáu: Nh√¥m/Nh·ª±a cao c·∫•p | T√≠nh nƒÉng: T·∫£n nhi·ªát hi·ªáu qu·∫£, ƒëi·ªÅu ch·ªânh ƒë·ªô cao | T∆∞∆°ng th√≠ch: Laptop 14-17 inch",
            "qty":"30"
          },
          {
            "id": "de-tan-nhiet-4",
            "model": "ƒê·∫ø t·∫£n nhi·ªát Cooler Master NOTEPAL CMC3",
            "price": "200.000",
            "status": "hien",
            "image": "../assets/images/Dtn2.png",
            "description": "Ch·∫•t li·ªáu: Nh√¥m/Nh·ª±a cao c·∫•p | T√≠nh nƒÉng: T·∫£n nhi·ªát hi·ªáu qu·∫£, ƒëi·ªÅu ch·ªânh ƒë·ªô cao | T∆∞∆°ng th√≠ch: Laptop 14-17 inch",
            "qty":"30"
          },
          {
            "id": "de-tan-nhiet-5",
            "model": "ƒê·∫ø t·∫£n nhi·ªát Cooler Master Ergostand Air",
            "price": "790.000",
            "status": "hien",
            "image": "../assets/images/Dtn1.jpg",
            "description": "Ch·∫•t li·ªáu: Nh√¥m/Nh·ª±a cao c·∫•p | T√≠nh nƒÉng: T·∫£n nhi·ªát hi·ªáu qu·∫£, ƒëi·ªÅu ch·ªânh ƒë·ªô cao | T∆∞∆°ng th√≠ch: Laptop 14-17 inch",
            "qty":"30"
          },
          {
            "id": "de-tan-nhiet-6",
            "model": "ƒê·∫ø t·∫£n nhi·ªát Cooler Master NOTEPAL CMC4",
            "price": "300.000",
            "status": "hien",
            "image": "../assets/images/Dtn2.png",
            "description": "Ch·∫•t li·ªáu: Nh√¥m/Nh·ª±a cao c·∫•p | T√≠nh nƒÉng: T·∫£n nhi·ªát hi·ªáu qu·∫£, ƒëi·ªÅu ch·ªânh ƒë·ªô cao | T∆∞∆°ng th√≠ch: Laptop 14-17 inch",
            "qty":"30"
          }
        ]
      },
      {
        "name": "tai-nghe",
        "status": "active",
        "tai-nghe": [
          {
            "id": "tai-nghe-1",
            "model": "Tai nghe Gaming Logitech G335",
            "price": "1.250.000",
            "status": "hien",
            "image": "../assets/images/Ear1.jpg",
            "description": "Ki·ªÉu k·∫øt n·ªëi: USB/3.5mm | T√≠nh nƒÉng: √Çm thanh v√≤m 7.1, mic kh·ª≠ ti·∫øng ·ªìn | D√†nh cho: Gaming/L√†m vi·ªác",
            "qty":"30"
          },
          {
            "id": "tai-nghe-2",
            "model": "Tai nghe gaming Rapoo VH520C",
            "price": "420.000",
            "status": "hien",
            "image": "../assets/images/Ear2.png",
            "description": "Ki·ªÉu k·∫øt n·ªëi: USB/3.5mm | T√≠nh nƒÉng: √Çm thanh v√≤m 7.1, mic kh·ª≠ ti·∫øng ·ªìn | D√†nh cho: Gaming/L√†m vi·ªác",
            "qty":"30"
          },
          {
            "id": "tai-nghe-3",
            "model": "Tai nghe gaming Rapoo VH650 (USB, 7.2 Led RGB)",
            "price": "350.000",
            "status": "hien",
            "image": "../assets/images/Ear3.jpg",
            "description": "Ki·ªÉu k·∫øt n·ªëi: USB/3.5mm | T√≠nh nƒÉng: √Çm thanh v√≤m 7.1, mic kh·ª≠ ti·∫øng ·ªìn | D√†nh cho: Gaming/L√†m vi·ªác",
            "qty":"30"
          },
          {
            "id": "tai-nghe-4",
            "model": "Tai nghe Gaming Logitech G333",
            "price": "1.550.000",
            "status": "hien",
            "image": "../assets/images/Ear1.jpg",
            "description": "Ki·ªÉu k·∫øt n·ªëi: USB/3.5mm | T√≠nh nƒÉng: √Çm thanh v√≤m 7.1, mic kh·ª≠ ti·∫øng ·ªìn | D√†nh cho: Gaming/L√†m vi·ªác",
            "qty":"0"
          },
          {
            "id": "tai-nghe-5",
            "model": "Tai nghe gaming Rapoo VH520D",
            "price": "450.000",
            "status": "hien",
            "image": "../assets/images/Ear2.png",
            "description": "Ki·ªÉu k·∫øt n·ªëi: USB/3.5mm | T√≠nh nƒÉng: √Çm thanh v√≤m 7.1, mic kh·ª≠ ti·∫øng ·ªìn | D√†nh cho: Gaming/L√†m vi·ªác",
            "qty":"0"
          },
          {
            "id": "tai-nghe-6",
            "model": "Tai nghe gaming Rapoo VH650 (USB, 7.1 Led RGB)",
            "price": "850.000",
            "status": "hien",
            "image": "../assets/images/Ear3.jpg",
            "description": "Ki·ªÉu k·∫øt n·ªëi: USB/3.5mm | T√≠nh nƒÉng: √Çm thanh v√≤m 7.1, mic kh·ª≠ ti·∫øng ·ªìn | D√†nh cho: Gaming/L√†m vi·ªác",
            "qty":"30"
          }
        ]
      },
      {
        "name": "chuot",
        "status": "active",
        "chuot": [
          {
            "id": "chuot-1",
            "model": "Chu·ªôt Razer Cobra - Zenless Zone One Edition",
            "price": "1.369.000",
            "status": "hien",
            "image": "../assets/images/mouse1.jpg",
            "description": "Lo·∫°i: Quang/Laser | DPI: 800 - 16000 | K·∫øt n·ªëi: C√≥ d√¢y/Kh√¥ng d√¢y | Ph√π h·ª£p: Gaming/VƒÉn ph√≤ng",
            "qty":"30"
          },
          {
            "id": "chuot-2",
            "model": "Chu·ªôt Logitech G501 Hero RGB",
            "price": "960.0.000",
            "status": "hien",
            "image": "../assets/images/Mouse2.jpg",
            "description": "Lo·∫°i: Quang/Laser | DPI: 800 - 16000 | K·∫øt n·ªëi: C√≥ d√¢y/Kh√¥ng d√¢y | Ph√π h·ª£p: Gaming/VƒÉn ph√≤ng",
            "qty":"30"
          },
          {
            "id": "chuot-3",
            "model": "Chu·ªôt quang USB Logitech B100",
            "price": "79.000",
            "status": "hien",
            "image": "../assets/images/Mouse3.jpg",
            "description": "Lo·∫°i: Quang/Laser | DPI: 800 - 16000 | K·∫øt n·ªëi: C√≥ d√¢y/Kh√¥ng d√¢y | Ph√π h·ª£p: Gaming/VƒÉn ph√≤ng",
            "qty":"30"
          },
          {
            "id": "chuot-4",
            "model": "Chu·ªôt Razer Cobra - Zenless Zone Zero Edition",
            "price": "1.100.000",
            "status": "hien",
            "image": "../assets/images/mouse1.jpg",
            "description": "Lo·∫°i: Quang/Laser | DPI: 800 - 16000 | K·∫øt n·ªëi: C√≥ d√¢y/Kh√¥ng d√¢y | Ph√π h·ª£p: Gaming/VƒÉn ph√≤ng",
            "qty":"30"
          },
          {
            "id": "chuot-5",
            "model": "Chu·ªôt Logitech G502 Hero RGB",
            "price": "1.000.000",
            "status": "hien",
            "image": "../assets/images/Mouse2.jpg",
            "description": "Lo·∫°i: Quang/Laser | DPI: 800 - 16000 | K·∫øt n·ªëi: C√≥ d√¢y/Kh√¥ng d√¢y | Ph√π h·ª£p: Gaming/VƒÉn ph√≤ng",
            "qty":"30"
          },
          {
            "id": "chuot-6",
            "model": "Chu·ªôt quang USB Logitech B101",
            "price": "100.000",
            "status": "hien",
            "image": "../assets/images/Mouse3.jpg",
            "description": "Lo·∫°i: Quang/Laser | DPI: 800 - 16000 | K·∫øt n·ªëi: C√≥ d√¢y/Kh√¥ng d√¢y | Ph√π h·ª£p: Gaming/VƒÉn ph√≤ng",
            "qty":"30"
          }
        ]
      },
      {
        "name": "balo",
        "status": "active",
        "balo": [
          // S·ª≠a ID ƒë·ªÉ ƒë·∫£m b·∫£o duy nh·∫•t trong nh√≥m
          {
            "id": "DELL-BP-GAMING-1",
            "model": "Balo Dell Gaming",
            "price": "900.000",
            "status": "hien",
            "image": "../assets/images/Balo2.png",
            "description": "Lo·∫°i s·∫£n ph·∫©m: Balo | K√≠ch th∆∞·ªõc: 17 inch | Ch·∫•t li·ªáu: V·∫£i ch·ªëng m√†i m√≤n",
            "qty":"0"
          },
          {
            "id": "BA-BALO-2",
            "model": "Balo Predator SUV",
            "price": "300.000",
            "status": "hien",
            "image": "../assets/images/Balo1.png",
            "description": "Ch·∫•t li·ªáu: B·ªÅn, ch·ªëng n∆∞·ªõc, ch·ªëng va ƒë·∫≠p | T∆∞∆°ng th√≠ch: Laptop 15.6 - 17 inch | Thi·∫øt k·∫ø: ƒêa ngƒÉn, chuy√™n d·ª•ng cho Gaming",
            "qty":"30"
          },
          {
            "id": "BA-BALO-3",
            "model": "Balo Predator Utility",
            "price": "990.000",
            "status": "hien",
            "image": "../assets/images/Balo2.png",
            "description": "Ch·∫•t li·ªáu: B·ªÅn, ch·ªëng n∆∞·ªõc, ch·ªëng va ƒë·∫≠p | T∆∞∆°ng th√≠ch: Laptop 15.6 - 17 inch | Thi·∫øt k·∫ø: ƒêa ngƒÉn, chuy√™n d·ª•ng cho Gaming",
            "qty":"30"
          },
          {
            "id": "BA-BALO-4",
            "model": "Balo ROG Archer BP1505",
            "price": "2.490.000",
            "status": "hien",
            "image": "../assets/images/Balo3.jpg",
            "description": "Ch·∫•t li·ªáu: B·ªÅn, ch·ªëng n∆∞·ªõc, ch·ªëng va ƒë·∫≠p | T∆∞∆°ng th√≠ch: Laptop 15.6 - 17 inch | Thi·∫øt k·∫ø: ƒêa ngƒÉn, chuy√™n d·ª•ng cho Gaming",
            "qty":"30"
          },
          {
            "id": "BA-BALO-5",
            "model": "Balo ROG Archer BP2702",
            "price": "5.490.000",
            "status": "an",
            "image": "../assets/images/Balo4.jpg",
            "description": "Ch·∫•t li·ªáu: B·ªÅn, ch·ªëng n∆∞·ªõc, ch·ªëng va ƒë·∫≠p | T∆∞∆°ng th√≠ch: Laptop 15.6 - 17 inch | Thi·∫øt k·∫ø: ƒêa ngƒÉn, chuy√™n d·ª•ng cho Gaming",
            "qty":"1"
          },
          {
            "id": "BA-BALO-6",
            "model": "Balo ROG Archer Weekender BP2703",
            "price": "4.990.000",
            "status": "an",
            "image": "../assets/images/Balo5.jpg",
            "description": "Ch·∫•t li·ªáu: B·ªÅn, ch·ªëng n∆∞·ªõc, ch·ªëng va ƒë·∫≠p | T∆∞∆°ng th√≠ch: Laptop 15.6 - 17 inch | Thi·∫øt k·∫ø: ƒêa ngƒÉn, chuy√™n d·ª•ng cho Gaming",
            "qty":"30"
          },
          {
            "id": "BA-BALO-7",
            "model": "Balo ROG Archer Weekender BP2703",
            "price": "5.990.000",
            "status": "hien",
            "image": "../assets/images/Balo1.png",
            "description": "Ch·∫•t li·ªáu: B·ªÅn, ch·ªëng n∆∞·ªõc, ch·ªëng va ƒë·∫≠p | T∆∞∆°ng th√≠ch: Laptop 15.6 - 17 inch | Thi·∫øt k·∫ø: ƒêa ngƒÉn, chuy√™n d·ª•ng cho Gaming",
            "qty":"30"
          }
        ]
      },
      { 
        "name": "ban-phim",
        "status": "active",
        "ban-phim": [
          {
            "id": "ban-phim-1",
            "model": "B√†n ph√≠m Akko MonsGeek M1W HE-SP V3 Dark Night",
            "price": "3.150.000",
            "status": "hien",
            "image": "../assets/images/BP1.png",
            "categoryName": "B√†n ph√≠m",
            "description": "S·ªë ph√≠m: 87 ph√≠m | C·ªïng k·∫øt n·ªëi: USB | C√≥ d√¢y: Kh√¥ng | Kho·∫£ng c√°ch k·∫øt n·ªëi: 2m | ƒê√®n LED: Kh√¥ng",
            "qty":"1"
          },
          {
            "id": "ban-phim-2",
            "model": "B√†n ph√≠m Akko MonsGeek M1W HE-SP V3 Horizon Blue",
            "price": "3.050.000",
            "status": "hien",
            "image": "../assets/images/BP2.jpg",
            "categoryName": "B√†n ph√≠m",
            "description": "S·ªë ph√≠m: 108 ph√≠m | C·ªïng k·∫øt n·ªëi: USB | C√≥ d√¢y: C√≥ | Kho·∫£ng c√°ch k·∫øt n·ªëi: 15m | ƒê√®n LED: C√≥",
            "qty":"0"
          },
          {
            "id": "ban-phim-3",
            "model": "B√†n ph√≠m Akko MonsGeek M1W HE-SP V3 Lilac Purple",
            "price": "3.150.000",
            "status": "hien",
            "image": "../assets/images/BP3.png",
            "categoryName": "B√†n ph√≠m",
            "description": "S·ªë ph√≠m: 61 ph√≠m | C·ªïng k·∫øt n·ªëi: Bluetooth | C√≥ d√¢y: C√≥ | Kho·∫£ng c√°ch k·∫øt n·ªëi: 1.8m | ƒê√®n LED: Kh√¥ng",
            "qty":"30"
          },
          {
            "id": "ban-phim-4",
            "model": "B√†n ph√≠m Akko MonsGeek M1W HE-SP V4 Dark Night",
            "price": "3.550.000",
            "status": "hien",
            "image": "../assets/images/BP1.png",
            "categoryName": "B√†n ph√≠m",
            "description": "S·ªë ph√≠m: 104 ph√≠m | C·ªïng k·∫øt n·ªëi: Bluetooth | C√≥ d√¢y: C√≥ | Kho·∫£ng c√°ch k·∫øt n·ªëi: 2m | ƒê√®n LED: C√≥",
            "qty":"30"
          },
          {
            "id": "ban-phim-5",
            "model": "B√†n ph√≠m Akko MonsGeek M1W HE-SP V5 Horizon Blue",
            "price": "4.050.000",
            "status": "hien",
            "image": "../assets/images/BP2.jpg",
            "categoryName": "B√†n ph√≠m",
            "description": "S·ªë ph√≠m: 61 ph√≠m | C·ªïng k·∫øt n·ªëi: Bluetooth | C√≥ d√¢y: Kh√¥ng | Kho·∫£ng c√°ch k·∫øt n·ªëi: 2m | ƒê√®n LED: C√≥",
            "qty":"11"
          },
          {
            "id": "ban-phim-6",
            "model": "B√†n ph√≠m Akko MonsGeek M1W HE-SP V5 Lilac Purple",
            "price": "3.650.000",
            "status": "hien",
            "image": "../assets/images/BP3.png",
            "categoryName": "B√†n ph√≠m",
            "description": "S·ªë ph√≠m: 61 ph√≠m | C·ªïng k·∫øt n·ªëi: USB + Bluetooth | C√≥ d√¢y: Kh√¥ng | Kho·∫£ng c√°ch k·∫øt n·ªëi: 1.8m | ƒê√®n LED: C√≥",
            "qty":"30"
          }
        ]
      }
    ]
  }
};
// ========== H√ÄM CHU·∫®N H√ìA D·ªÆ LI·ªÜU (M·ªõi) ==========
function normalizeData(data) {
    if (!data || !data.product || !data.product.brand) return [];

    let result = [];
    data.product.brand.forEach(brandGroup => {
        const groupName = brandGroup.name; 
        const subProducts = brandGroup[groupName];
        
        if (Array.isArray(subProducts)) {
            subProducts.forEach(product => {
                
                const priceValue = parseInt(String(product.price).replace(/\./g, '').replace(/\.0+$/, ''), 10);
                
                let productCategory = groupName === 'laptop' ? 'laptop' : 'phukien';
                let productType = '';
                
                if (productCategory === 'laptop') {
                    // X√°c ƒë·ªãnh type/brand laptop t·ª´ ID prefix
                    const idPrefix = product.id.substring(0, 2);
                    if (idPrefix === 'AC') productType = 'Acer';
                    else if (idPrefix === 'AS') productType = 'Asus';
                    else if (idPrefix === 'HP') productType = 'HP';
                    else if (idPrefix === 'LE') productType = 'Lenovo';
                    else if (idPrefix === 'DE') productType = 'Dell';
                    else productType = 'Khac';
                } else {
                    
                    // ƒê·ªëi v·ªõi ph·ª• ki·ªán/balo, type ch√≠nh l√† t√™n nh√≥m/id ch√≠nh
                    // V√≠ d·ª•: de-tan-nhiet-1 -> de-tan-nhiet
                    if (groupName === 'balo') {
                        productType = 'balo';
                    } else if (groupName === 'de-tan-nhiet') {
                        productType = 'de-tan-nhiet';
                    } else if (groupName === 'tai-nghe') {
                        productType = 'tai-nghe';
                    } else if (groupName === 'ban-phim') {
                        productType = 'ban-phim';
                    } else if (groupName === 'chuot') {
                        productType = 'chuot'; // B·ªï sung cho nh√≥m 'chuot'
                    } else {
                        productType = product.id.split('-')[0];
                }}
                
                // S·ª≠ d·ª•ng ID + Model ƒë·ªÉ t·∫°o key duy nh·∫•t (ƒê·ªãnh d·∫°ng ƒë∆∞·ª£c y√™u c·∫ßu)
                const id = `${product.id}-${product.model.replace(/\s/g, '_')}`;
                
                result.push({
                    ...product,
                    "id": product.id,                             // ID duy nh·∫•t cho frontend
                    "model": product.model,                        // D√πng 'name' ƒë·ªÉ overwrite 'model'
                    "image": product.image, 
                    "description": product.description, 
                    "status": product.status,                    
                    "qty":product.qty,
                    //cac gia tri dung cho user
                    priceValue: priceValue,               // Gi√° tr·ªã s·ªë ƒë√£ ƒë∆∞·ª£c parse
                    category: productCategory,
                    type: productType,
                    
                    originalProductId: product.id  
                });
            });
        }
    });
    return result;
}

// ========== H√ÄM LOCAL STORAGE ==========
function getLocalProducts() {
    try {
        const data = localStorage.getItem("laptopProducts");
        if (data) {
            const parsedData = JSON.parse(data);
            if (Array.isArray(parsedData) && parsedData.length > 0) {
                // Ki·ªÉm tra n·∫øu d·ªØ li·ªáu ƒë√£ ƒë∆∞·ª£c chu·∫©n h√≥a
                if (parsedData[0].priceValue !== undefined && parsedData[0].category !== undefined) {
                    return parsedData;
                }
            }
        }
        
        console.log("Kh·ªüi t·∫°o d·ªØ li·ªáu laptop t·ª´ m·∫´u (chu·∫©n h√≥a)");
        const productsArray = normalizeData(window.globalJsonData);
        saveLocalProducts(productsArray);
        return productsArray;

    } catch (error) {
        console.error("L·ªói khi l·∫•y d·ªØ li·ªáu s·∫£n ph·∫©m, chu·∫©n h√≥a l·∫°i:", error);
        const productsArray = normalizeData(window.globalJsonData);
        saveLocalProducts(productsArray);
        return productsArray;
    }
}

function saveLocalProducts(data) {
    // Ch·ªâ l∆∞u m·∫£ng s·∫£n ph·∫©m ph·∫≥ng ƒë√£ ƒë∆∞·ª£c chu·∫©n h√≥a
    localStorage.setItem("laptopProducts", JSON.stringify(data));
}

// ========== H·ªÜ TH·ªêNG PH√ÇN TRANG ==========
const PER_PAGE = 15;
let currentLaptopPage = 1;
let currentAccessoryPage = 1;
let currentLaptopProducts = [];
let currentAccessoryProducts = [];
// Kh·ªüi t·∫°o allProducts sau khi normalize
let allProducts = getLocalProducts();

// ========== H√ÄM T·∫†O TH·∫∫ S·∫¢N PH·∫®M ==========
function createProductCard(product) {
    const card = document.createElement("div");
    card.className = "product-card";
    // S·ª¨ D·ª§NG product.model thay v√¨ product.name (v√¨ kh√¥ng c√≥ thu·ªôc t√≠nh name)
    // S·ª¨ D·ª§NG product.id cho data-id ƒë·ªÉ ƒë·∫£m b·∫£o th√™m ƒë√∫ng s·∫£n ph·∫©m
    
    card.innerHTML = `
        <img src="${product.image}" alt="${product.model}" >
        <h3>${shortenProductName(product.model, 45)}</h3>
        <p class="price">${formatPrice(product.priceValue)}</p>
        <button class="add-to-cart" data-id="${product.id}">
            Th√™m v√†o gi·ªè h√†ng
        </button>
    `;
    
    
    const addToCartBtn = card.querySelector('.add-to-cart');
    addToCartBtn.addEventListener('click', function() {
        // Truy·ªÅn ID ƒë√£ ƒë∆∞·ª£c chu·∫©n h√≥a
        const productId = product.id; 
        if (typeof window.addToCart === 'function') {
            window.addToCart(productId);
        } else {
            console.warn('H√†m addToCart ch∆∞a ƒë∆∞·ª£c t·∫£i, s·ª≠ d·ª•ng fallback');
            addToCartFallback(productId); // Truy·ªÅn ID ƒë√£ chu·∫©n h√≥a
        }
    });
    
    return card;
}

// H√†m fallback t·∫°m th·ªùi (ƒê√£ s·ª≠a ƒë·ªÉ d√πng id v√† l·∫•y product object)
function addToCartFallback(productId) { // ƒê·ªïi t√™n tham s·ªë th√†nh productId ƒë·ªÉ r√µ r√†ng
    // ID l√∫c n√†y l√† ID ƒë√£ ƒë∆∞·ª£c chu·∫©n h√≥a (v√≠ d·ª•: AC-AS5-i5-R2UP-Laptop_Acer_Gaming_Nitro_V_ANV15-41-R2UP)
    
    // T√¨m ƒë·ªëi t∆∞·ª£ng s·∫£n ph·∫©m ƒë·∫ßy ƒë·ªß t·ª´ allProducts
    // S·ª≠ d·ª•ng window.productsAPI.getAllProducts() ƒë·ªÉ ƒë·∫£m b·∫£o l·∫•y ƒë∆∞·ª£c allProducts ƒë√£ kh·ªüi t·∫°o
    const productsList = window.productsAPI ? window.productsAPI.getAllProducts() : allProducts; 
    const product = productsList.find(p => p.id === productId); 
    
    if (product) {
        alert(`ƒê√£ th√™m ${product.model} v√†o gi·ªè h√†ng! (Ch·∫ø ƒë·ªô t·∫°m th·ªùi)`);
        
        if (!window.cartData) {
            window.cartData = [];
        }
        
        // D√πng productId (l√† ID ƒë√£ chu·∫©n h√≥a) ƒë·ªÉ t√¨m trong gi·ªè h√†ng
        const existingItem = window.cartData.find(item => item.id === productId);
        
        if (existingItem) {
            existingItem.quantity += 1;
        } else {
            // Push v√†o gi·ªè h√†ng v·ªõi c√°c thu·ªôc t√≠nh c·∫ßn thi·∫øt
            window.cartData.push({
                id: productId, // S·ª≠ d·ª•ng ID ƒë√£ ƒë∆∞·ª£c chu·∫©n h√≥a
                name: product.model, 
                price: product.priceValue, // D√πng priceValue ƒë√£ l√† s·ªë
                image: product.image,
                quantity: 1,
                checked: true
            });
        }
        
        if (typeof window.saveCartData === 'function') {
            window.saveCartData();
        } else {
            localStorage.setItem('cartData', JSON.stringify(window.cartData));
        }
        
        updateCartCounter();
    } else {
        console.error(`Kh√¥ng t√¨m th·∫•y s·∫£n ph·∫©m v·ªõi ID: ${productId}`);
    }
}
// H√†m c·∫≠p nh·∫≠t s·ªë l∆∞·ª£ng gi·ªè h√†ng
function updateCartCounter() {
    const cartCounter = document.querySelector('.cart-count');
    if (cartCounter && window.cartData) {
        // C·∫ßn ensure window.cartData ƒë√£ ƒë∆∞·ª£c t·∫£i t·ª´ cart.js
        if (typeof window.getCartData === 'function') {
             window.cartData = window.getCartData();
        }
        const totalItems = window.cartData.reduce((total, item) => total + item.quantity, 0);
        cartCounter.textContent = totalItems;
        cartCounter.style.display = totalItems > 0 ? 'flex' : 'none';
    }
}

// H√†m ƒë·ªãnh d·∫°ng gi√° ti·ªÅn
function formatPrice(price) {
    return new Intl.NumberFormat('vi-VN', {
        style: 'currency',
        currency: 'VND'
    }).format(price);
}

// ========== H√ÄM M·ªöI ƒê·ªÇ R√öT G·ªåN T√äN ==========
function shortenProductName(name, maxLength = 45) {
    if (name.length <= maxLength) {
        return name;
    }
    return name.substring(0, maxLength) + '...';
}
// ============================================

// Render s·∫£n ph·∫©m v·ªõi ph√¢n trang
function renderProducts(productsList, page = 1, gridId = "product-grid") {
    const grid = document.getElementById(gridId);
    if (!grid) {
        console.error(`Kh√¥ng t√¨m th·∫•y grid v·ªõi id: ${gridId}`);
        return;
    }
    
    // 1. L·ªåC DANH S√ÅCH S·∫¢N PH·∫®M CH·ªà L·∫§Y NH·ªÆNG S·∫¢N PH·∫®M S·∫º ƒê∆Ø·ª¢C HI·ªÇN TH·ªä
    const visibleProducts = productsList.filter(product => {
        const productStatus = product.status || 'an';
        const categoryActiveStatus = product.categoryStatus || 'active'; 
        
        // CH·ªà GI·ªÆ L·∫†I S·∫¢N PH·∫®M C√ì status='hien' V√Ä categoryStatus='active'
        return productStatus.toLowerCase() === 'hien' && categoryActiveStatus.toLowerCase() === 'active';
    });
    
    // Gi·ªØ nguy√™n vi·ªác l∆∞u tr·ªØ danh s√°ch ban ƒë·∫ßu cho c√°c ch·ª©c nƒÉng kh√°c (n·∫øu c·∫ßn)
    if (gridId === "product-grid") {
        currentLaptopProducts = productsList;
        currentLaptopPage = page;
    } else {
        currentAccessoryProducts = productsList;
        currentAccessoryPage = page;
    }
    
    grid.innerHTML = "";
    
    // 2. T√çNH TO√ÅN PH√ÇN TRANG D·ª∞A TR√äN S·ªê L∆Ø·ª¢NG S·∫¢N PH·∫®M C√ì TH·ªÇ HI·ªÇN TH·ªä (visibleProducts)
    const total = visibleProducts.length;
    const totalPages = Math.max(1, Math.ceil(total / PER_PAGE));
    
    let currentPage = page;
    if (currentPage < 1) currentPage = 1;
    if (currentPage > totalPages) currentPage = totalPages;
    
    const start = (currentPage - 1) * PER_PAGE;
    const end = start + PER_PAGE;
    
    // 3. C·∫ÆT M·∫¢NG D·ª∞A TR√äN visibleProducts
    const pageProducts = visibleProducts.slice(start, end);
    
    // 4. RENDER: T·∫•t c·∫£ s·∫£n ph·∫©m trong pageProducts ƒë·ªÅu ƒë√£ ƒë∆∞·ª£c l·ªçc
    pageProducts.forEach(product => {
        const productCard = createProductCard(product);
        grid.appendChild(productCard);
    });
    
    // 5. C·∫¨P NH·∫¨T PH√ÇN TRANG
    updateProductCount(total, currentPage, gridId);
    renderPagination(totalPages, currentPage, gridId);
}

// C·∫≠p nh·∫≠t s·ªë l∆∞·ª£ng s·∫£n ph·∫©m
function updateProductCount(total, currentPage, gridId) {
    const countElement = document.getElementById(gridId === "product-grid" ? "productCount" : "accessoryCount");
    if (countElement) {
        const start = (currentPage - 1) * PER_PAGE + 1;
        const end = Math.min(currentPage * PER_PAGE, total);
        countElement.textContent = `Hi·ªÉn th·ªã ${start}-${end} c·ªßa ${total} s·∫£n ph·∫©m`;
    }
}

// Render ph√¢n trang
function renderPagination(totalPages, currentPage, gridId = "product-grid") {
    const paginationId = gridId === "product-grid" ? "pagination" : "accessory-pagination";
    const container = document.getElementById(paginationId);
    if (!container) {
        console.error(`Kh√¥ng t√¨m th·∫•y container ph√¢n trang: ${paginationId}`);
        return;
    }
    
    container.innerHTML = '';
    
    if (totalPages <= 1) return;
    
    console.log(`üìÑ Render ph√¢n trang: trang ${currentPage}/${totalPages} cho ${gridId}`);

    // N√∫t Previous
    const prevBtn = document.createElement("button");
    prevBtn.innerHTML = "‚Äπ";
    prevBtn.className = "pagination-btn";
    prevBtn.disabled = currentPage <= 1;
    prevBtn.addEventListener("click", () => {
        const productsToRender = gridId === "product-grid" ? currentLaptopProducts : currentAccessoryProducts;
        renderProducts(productsToRender, currentPage - 1, gridId);
        window.scrollTo({ top: 0, behavior: "smooth" });
    });
    container.appendChild(prevBtn);
    
    // C√°c n√∫t trang
    const maxVisiblePages = 5;
    let startPage = Math.max(1, currentPage - Math.floor(maxVisiblePages / 2));
    let endPage = Math.min(totalPages, startPage + maxVisiblePages - 1);
    
    if (endPage - startPage + 1 < maxVisiblePages) {
        startPage = Math.max(1, endPage - maxVisiblePages + 1);
    }
    
    // Trang ƒë·∫ßu
    if (startPage > 1) {
        const firstBtn = document.createElement("button");
        firstBtn.textContent = "1";
        firstBtn.className = "pagination-btn";
        firstBtn.addEventListener("click", () => {
            const productsToRender = gridId === "product-grid" ? currentLaptopProducts : currentAccessoryProducts;
            renderProducts(productsToRender, 1, gridId);
            window.scrollTo({ top: 0, behavior: "smooth" });
        });
        container.appendChild(firstBtn);
        
        if (startPage > 2) {
            const dots = document.createElement("span");
            dots.textContent = "...";
            dots.className = "pagination-dots";
            container.appendChild(dots);
        }
    }
    
    // C√°c trang gi·ªØa
    for (let i = startPage; i <= endPage; i++) {
        const pageBtn = document.createElement("button");
        pageBtn.textContent = i;
        pageBtn.className = "pagination-btn";
        if (i === currentPage) {
            pageBtn.classList.add("active");
        }
        pageBtn.addEventListener("click", () => {
            const productsToRender = gridId === "product-grid" ? currentLaptopProducts : currentAccessoryProducts;
            renderProducts(productsToRender, i, gridId);
            window.scrollTo({ top: 0, behavior: "smooth" });
        });
        container.appendChild(pageBtn);
    }
    
    // Trang cu·ªëi
    if (endPage < totalPages) {
        if (endPage < totalPages - 1) {
            const dots = document.createElement("span");
            dots.textContent = "...";
            dots.className = "pagination-dots";
            container.appendChild(dots);
        }
        
        const lastBtn = document.createElement("button");
        lastBtn.textContent = totalPages;
        lastBtn.className = "pagination-btn";
        lastBtn.addEventListener("click", () => {
            const productsToRender = gridId === "product-grid" ? currentLaptopProducts : currentAccessoryProducts;
            renderProducts(productsToRender, totalPages, gridId);
            window.scrollTo({ top: 0, behavior: "smooth" });
        });
        container.appendChild(lastBtn);
    }
    
    // N√∫t Next
    const nextBtn = document.createElement("button");
    nextBtn.innerHTML = "‚Ä∫";
    nextBtn.className = "pagination-btn";
    nextBtn.disabled = currentPage >= totalPages;
    nextBtn.addEventListener("click", () => {
        const productsToRender = gridId === "product-grid" ? currentLaptopProducts : currentAccessoryProducts;
        renderProducts(productsToRender, currentPage + 1, gridId);
        window.scrollTo({ top: 0, behavior: "smooth" });
    });
    container.appendChild(nextBtn);
}

// ========== L·ªåC S·∫¢N PH·∫®M (ƒê√£ s·ª≠a) ==========
function filterLaptopsByBrand(brand) {
    const brandName = brand === "all" ? "all" : brand; 
    
    const filtered = allProducts.filter(product => 
        product.category === "laptop" && (brandName === "all" || product.type === brandName)
    );
    renderProducts(filtered, 1, "product-grid");
}

function filterAccessoriesByType(type) {
    // √Ånh x·∫° t·ª´ t√™n hi·ªÉn th·ªã sang t√™n key trong d·ªØ li·ªáu ƒë√£ chu·∫©n h√≥a (product.type)
    const typeMap = {
        "T·∫•t c·∫£": "all",
        "Balo": "balo",
        "ƒê·∫ø t·∫£n nhi·ªát": "de-tan-nhiet", 
        "Tai nghe": "tai-nghe",
        "Chu·ªôt": "chuot",
        "B√†n ph√≠m": "ban-phim"
    };
    
    // L·∫•y key ƒë√£ chu·∫©n h√≥a ho·∫∑c d√πng type n·∫øu kh√¥ng t√¨m th·∫•y (v√† chuy·ªÉn v·ªÅ ch·ªØ th∆∞·ªùng)
    const typeKey = typeMap[type] || type.toLowerCase();
    
    const filtered = allProducts.filter(product => 
        product.category === "phukien" && (typeKey === "all" || product.type === typeKey)
    );
    renderProducts(filtered, 1, "accessory-grid");
}

// ========== T√åM KI·∫æM ==========
function searchProducts() {
    const searchInput = document.getElementById("searchInput");
    if (!searchInput) return;
    
    const searchTerm = searchInput.value.trim().toLowerCase();
    
    if (searchTerm === "") {
        resetToHomePage();
        hideSearchResults();
    }
    // Logic t√¨m ki·∫øm chi ti·∫øt h∆°n s·∫Ω do search.js x·ª≠ l√Ω
}

// H√†m reset v·ªÅ trang ch·ªß
function resetToHomePage() {
    const laptops = allProducts.filter(p => p.category === "laptop");
    const accessories = allProducts.filter(p => p.category === "phukien");
    
    // Reset pages v·ªÅ 1 tr∆∞·ªõc khi render
    renderProducts(laptops, 1, "product-grid");
    renderProducts(accessories, 1, "accessory-grid");
    
    // Hi·ªán l·∫°i t·∫•t c·∫£ section
    const suggestionsSection = document.getElementById("suggestions");
    const accessoriesSection = document.getElementById("accessories");
    const productDetailSection = document.getElementById("productDetail");
    
    if (suggestionsSection) suggestionsSection.style.display = "block";
    if (accessoriesSection) accessoriesSection.style.display = "block";
    if (productDetailSection) productDetailSection.style.display = "none";
    
    // Reset tabs v·ªÅ "T·∫•t c·∫£"
    const laptopTabs = document.querySelectorAll("#brandTabs button");
    const accessoryTabs = document.querySelectorAll("#accessories .tabs button");
    
    if (laptopTabs.length > 0) {
        laptopTabs.forEach((tab, index) => {
            if (index === 0) tab.classList.add("active");
            else tab.classList.remove("active");
        });
    }
    
    if (accessoryTabs.length > 0) {
        accessoryTabs.forEach((tab, index) => {
            if (index === 0) tab.classList.add("active");
            else tab.classList.remove("active");
        });
    }
}

// ========== KH·ªûI T·∫†O ==========
document.addEventListener("DOMContentLoaded", function() {
    console.log("ƒêang kh·ªüi t·∫°o trang s·∫£n ph·∫©m...");
    
    // G√°n l·∫°i allProducts sau khi DOMContentLoaded ƒë·ªÉ ƒë·∫£m b·∫£o local storage ƒë∆∞·ª£c load
    let allProducts = getLocalProducts(); 
    
    // L·ªçc laptop v√† ph·ª• ki·ªán
    const laptops = allProducts.filter(p => p.category === "laptop");
    const accessories = allProducts.filter(p => p.category === "phukien");
    
    console.log(`T·ªïng s·∫£n ph·∫©m: ${allProducts.length}`);
    console.log(`Laptop: ${laptops.length}`);
    console.log(`Ph·ª• ki·ªán: ${accessories.length}`);
    
    // Render ban ƒë·∫ßu
    renderProducts(laptops, 1, "product-grid");
    renderProducts(accessories, 1, "accessory-grid");
    
    // G·∫Øn s·ª± ki·ªán cho tabs laptop
    const laptopTabs = document.querySelectorAll("#brandTabs button");
    if (laptopTabs.length > 0) {
        laptopTabs.forEach((tab, index) => {
            tab.addEventListener("click", () => {
                laptopTabs.forEach(t => t.classList.remove("active"));
                tab.classList.add("active");
                
                // S·ª≠ d·ª•ng textContent l√†m brand
                const brand = index === 0 ? "all" : tab.textContent.trim();
                filterLaptopsByBrand(brand);
            });
        });
    }
    
    // G·∫Øn s·ª± ki·ªán cho tabs ph·ª• ki·ªán
    const accessoryTabs = document.querySelectorAll("#accessories .tabs button");
    if (accessoryTabs.length > 0) {
        accessoryTabs.forEach((tab, index) => {
            tab.addEventListener("click", () => {
                accessoryTabs.forEach(t => t.classList.remove("active"));
                tab.classList.add("active");
                
                const type = index === 0 ? "T·∫•t c·∫£" : tab.textContent.trim(); // D√πng "T·∫•t c·∫£" ƒë·ªÉ kh·ªõp v·ªõi typeMap
                filterAccessoriesByType(type);
            });
        });
    }
    
    // G·∫Øn s·ª± ki·ªán t√¨m ki·∫øm - CH·ªà reset khi search r·ªóng
    const searchInput = document.getElementById("searchInput");
    if (searchInput) {
        searchInput.addEventListener("input", function() {
          const searchTerm = this.value.trim();
          if (searchTerm === "") {
            searchProducts(); 
          }
          });
    }
    
    // G·∫Øn s·ª± ki·ªán cho menu dropdown
    attachDropdownEvents();
    
    console.log("Kh·ªüi t·∫°o trang s·∫£n ph·∫©m th√†nh c√¥ng!");
});

// ========== MENU DROPDOWN EVENTS (ƒê√£ s·ª≠a) ==========
function attachDropdownEvents() {
    // Laptop brands t·ª´ dropdown
    const laptopItems = document.querySelectorAll(".dropdown .col:first-child ul li");
    laptopItems.forEach(item => {
        item.addEventListener("click", () => {
            const brand = item.textContent.trim();
            
            // Active tab t∆∞∆°ng ·ª©ng
            const laptopTabs = document.querySelectorAll("#brandTabs button");
            laptopTabs.forEach(tab => {
                if (tab.textContent.trim() === brand) {
                    tab.classList.add("active");
                } else {
                    tab.classList.remove("active");
                }
            });
            
            // L·ªçc s·∫£n ph·∫©m
            filterLaptopsByBrand(brand);
            
            // Cu·ªôn ƒë·∫øn ph·∫ßn laptop
            const suggestionsSection = document.getElementById("suggestions");
            if (suggestionsSection) {
                suggestionsSection.scrollIntoView({ behavior: "smooth" });
            }
            window.hideSearchResults();
        });
    });
    
    // Ph·ª• ki·ªán t·ª´ dropdown
    const accessoryItems = document.querySelectorAll(".dropdown .col:last-child ul li");
    accessoryItems.forEach(item => {
        item.addEventListener("click", () => {
            const type = item.textContent.trim();
            
            // Active tab t∆∞∆°ng ·ª©ng
            const accessoryTabs = document.querySelectorAll("#accessories .tabs button");
            let found = false;
            accessoryTabs.forEach(tab => {
                if (tab.textContent.trim() === type) {
                    tab.classList.add("active");
                    found = true;
                } else {
                    tab.classList.remove("active");
                }
            });
            
            // N·∫øu kh√¥ng t√¨m th·∫•y tab, ch·ªçn tab "T·∫•t c·∫£"
            if (!found && accessoryTabs[0]) {
                accessoryTabs[0].classList.add("active");
                filterAccessoriesByType("T·∫•t c·∫£"); // D√πng "T·∫•t c·∫£" ƒë·ªÉ kh·ªõp v·ªõi logic tab
            } else {
                filterAccessoriesByType(type);
            }
            
            // Cu·ªôn ƒë·∫øn ph·∫ßn ph·ª• ki·ªán
            const accessoriesSection = document.getElementById("accessories");
            if (accessoriesSection) {
                accessoriesSection.scrollIntoView({ behavior: "smooth" });
            }
            window.hideSearchResults();
        });
    });
}

// Xu·∫•t bi·∫øn ƒë·ªÉ c√≥ th·ªÉ debug t·ª´ console
window.productsAPI = {
    getAllProducts: () => allProducts,
    getLaptops: () => allProducts.filter(p => p.category === "laptop"),
    getAccessories: () => allProducts.filter(p => p.category === "phukien"),
    refreshData: () => {
        allProducts = getLocalProducts();
        const laptops = allProducts.filter(p => p.category === "laptop");
        const accessories = allProducts.filter(p => p.category === "phukien");
        renderProducts(laptops, 1, "product-grid");
        renderProducts(accessories, 1, "accessory-grid");
    }
};

// ========== EXPORT CHO SEARCH SYSTEM ==========
// Xu·∫•t bi·∫øn allProducts ra global ƒë·ªÉ search.js c√≥ th·ªÉ truy c·∫≠p
window.allProducts = allProducts;

// H√†m format price (d√πng chung)
window.formatPrice = function(price) {
    return new Intl.NumberFormat('vi-VN', {
        style: 'currency',
        currency: 'VND'
    }).format(price);
};

// H√†m ·∫©n k·∫øt qu·∫£ t√¨m ki·∫øm (Gi·∫£ ƒë·ªãnh n·∫±m trong search.js, nh∆∞ng ƒë∆∞·ª£c export)
function hideSearchResults() {
    const searchResults = document.getElementById('searchResults');
    if (searchResults) {
        searchResults.classList.remove('active');
    }
}

// Xu·∫•t h√†m ra global ƒë·ªÉ search.js d√πng
window.hideSearchResults = hideSearchResults;
window.resetToHomePage = resetToHomePage;